# Technical Documentation

## Development Environment

**[Development](development.md)** - Build commands, project structure, testing

## Stack

- **Language**: Clojure
- **Core**: Zero dependencies
- **Dev**: tools.namespace, Malli, Codox
- **Integration**: Ring middleware

## Design Principles

- **Zero dependencies**: Core has no runtime deps beyond Clojure
- **Convention over config**: Filesystem structure = URI structure
- **Separation of concerns**: Pure routing (core.clj), Ring integration (ring.clj), caching (cache.clj)
- **Dev experience**: Hot-reload, clear errors, custom template support

## Request Flow

**Development**: Request → Ring middleware → Cache check → Route resolution → Handler invocation → Response

**Production**: Request → `wrap-compiled-routes` → Load EDN routes → Match (O(1) static, O(n) pattern) → Handler → Response

## API Reference

[API Documentation](../api/index.html) - Generated by Codox. Contains all namespace docstrings and function documentation.

## Extension Points

**Custom templates**: Use `:endpoint/type` metadata to delegate to template namespaces. See [wrap-fs-router](../api/esp1.fsr.ring.html#var-wrap-fs-router) for details.

**Response handling**: See [wrap-fs-router](../api/esp1.fsr.ring.html#var-wrap-fs-router) docstring for response type handling (String → 200, Ring map → passthrough, nil → 204).

## Deployment

**Dev**: Use [wrap-fs-router](../api/esp1.fsr.ring.html#var-wrap-fs-router), routes resolved from filesystem with hot-reload.

**Prod**: Run `publish` → static HTML + `compiled-routes.edn`, use `wrap-compiled-routes`, zero filesystem access. See `esp1.fsr.compile` namespace docstring.
